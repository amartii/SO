Apuntes shell scripting

no entregar scripts de bash
siempre #!/bin/sh --> IMPORTANTE (empieza por esta linea siempre)
Hay que otorgarle permisos de ejecución 


hola.sh

{
	#!/bin/sh
	echo hola
	exit 0
}

ls -l hola.sh --> ver permisos 
chmod +x hola.sh --> damos permisos de ejecución
./hola.sh --> para ejecutar
echo $? --> status salida 

hola2.sh

{
	#!/bin/sh
	echo hola $1
	echo todos los argumentos son: $*
	exit 0
}./hola2.sh juan alberto 

parámetros posicionales $1, $2 ... lo que le pasamos al ./hola.sh
$# -> numero de argumentos que te pasan
$* -> todos los argumentos

hola3.sh

{
	#!/bin/sh
	echo hola $1
	echo todos los argumentos son: $*
	shift
	echo todos los argumentos son: $*
	echo '$1' es $1
	exit 0
}./hola3.sh juan alberto 

shift desplaza argumentos hacia  la izquierda descartando el primero

sustitucion de comandos: ejemplo: 
fecha = $(date) o fecha = `date`
echo $fecha

//el true en shell es un programa que sale con éxito(0) y el false(1) con fallo
if true
then
	echo estoy dentro del if
fi

IMPORTANTE EL FOR
for.sh

{
	#!/bin/sh
	echo hola me han paado $# argumentos
	for i in $*
	do
		echo un param: $i
	done
	exit 0
}./for.sh uno dos tres 
hola me han pasado 3 parametros 
un param:uno
un param:dos
un param:tres

//diferencias de impresion con $@ "$@" $* "$*"
examples.sh
{
	#!/bin/sh
	echo 'con $@'
	for i in $@
	do
		echo"<$i>"
	done
	
	echo 'con "$@"'
	for i in "$@"
	do
		echo"<$i>"
	done
	
	echo 'con $*1
	for i in $*
	do
		echo"<$i>"
	done
	
	echo 'con "$*"'
	for i in "$*"
	do
		echo"<$i>"
	done
	
	exit 0
}

lo mejor es $ umpersand entre comillas

{
	#!/bin/sh
	ls -l $1 | while read line
	do 	
		echo una linea: $line
	done
	exit 0
}

Variable IFS --> no jugar con ella, trae dentro espacio, tab y salto de línea.


funciones: 
hello(){
	echo hola $1
	shift
	echo adios $1
}
hello uno dos

comando TEST
ficheros: 
test -f <ruta> --> nos dice si existe el dichero y si es un fichero
test -d <ruta> --> nos dice si existe la ruta y es un dir
cadenas: 
-n String1 --> si la longitud de la string no es cero
-z String1 --> si la longitud de la string es cero
String1 = String2 --> si son iguales
String1 != String2-->String1 and String2 variables no son idénticas
String1-->si la string no es nula

{
	#!/bin/sh
	if test $# -ne 1  //para comprobar el numero de args
	then
		echo usage: hola.sh path >&2
		exit 1
	fi
	
	
}










